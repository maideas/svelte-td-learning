var app=function(t){"use strict";function e(){}function n(t,e){for(const n in e)t[n]=e[n];return t}function u(t){return t()}function r(){return Object.create(null)}function a(t){t.forEach(u)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function o(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function $(){return h(" ")}function x(){return h("")}function y(t,e,n,u){return t.addEventListener(e,n,u),()=>t.removeEventListener(e,n,u)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function N(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e,n,u){t.style.setProperty(e,n,u?"important":"")}function Q(t,e){for(let n=0;n<t.options.length;n+=1){const u=t.options[n];if(u.__value===e)return void(u.selected=!0)}}function w(t,e,n){t.classList[n?"add":"remove"](e)}let S;function Y(t){S=t}function X(){if(!S)throw new Error("Function called outside component initialization");return S}function b(t){X().$$.on_mount.push(t)}function k(){const t=X();return(e,n)=>{const u=t.$$.callbacks[e];if(u){const r=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);u.slice().forEach((e=>{e.call(t,r)}))}}}function F(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const E=[],M=[],R=[],D=[],V=Promise.resolve();let B=!1;function C(t){R.push(t)}function j(t){D.push(t)}let T=!1;const _=new Set;function I(){if(!T){T=!0;do{for(let t=0;t<E.length;t+=1){const e=E[t];Y(e),P(e.$$)}for(Y(null),E.length=0;M.length;)M.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];_.has(e)||(_.add(e),e())}R.length=0}while(E.length);for(;D.length;)D.pop()();B=!1,T=!1,_.clear()}}function P(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const L=new Set;let z;function G(){z={r:0,c:[],p:z}}function O(){z.r||a(z.c),z=z.p}function q(t,e){t&&t.i&&(L.delete(t),t.i(e))}function H(t,e,n,u){if(t&&t.o){if(L.has(t))return;L.add(t),z.c.push((()=>{L.delete(t),u&&(n&&t.d(1),u())})),t.o(e)}}function J(t,e,n){const u=t.$$.props[e];void 0!==u&&(t.$$.bound[u]=n,n(t.$$.ctx[u]))}function K(t){t&&t.c()}function U(t,e,n){const{fragment:r,on_mount:l,on_destroy:i,after_update:o}=t.$$;r&&r.m(e,n),C((()=>{const e=l.map(u).filter(s);i?i.push(...e):a(e),t.$$.on_mount=[]})),o.forEach(C)}function W(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Z(t,e){-1===t.$$.dirty[0]&&(E.push(t),B||(B=!0,V.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tt(t,n,u,s,l,i,o=[-1]){const c=S;Y(t);const d=n.props||{},g=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:l,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:o,skip_bound:!1};let f=!1;if(g.ctx=u?u(t,d,((e,n,...u)=>{const r=u.length?u[0]:n;return g.ctx&&l(g.ctx[e],g.ctx[e]=r)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](r),f&&Z(t,e)),n})):[],g.update(),f=!0,a(g.before_update),g.fragment=!!s&&s(g.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);g.fragment&&g.fragment.l(t),t.forEach(m)}else g.fragment&&g.fragment.c();n.intro&&q(t.$$.fragment),U(t,n.target,n.anchor),I()}Y(c)}class et{$destroy(){W(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function nt(t){let n,u,r;return{c(){n=p("svg"),u=p("path"),A(u,"fill","currentColor"),A(u,"d",t[0]),A(n,"aria-hidden","true"),A(n,"class",r=o(t[1])+" svelte-1d15yci"),A(n,"role","img"),A(n,"xmlns","http://www.w3.org/2000/svg"),A(n,"viewBox",t[2])},m(t,e){d(t,n,e),c(n,u)},p(t,[e]){1&e&&A(u,"d",t[0]),2&e&&r!==(r=o(t[1])+" svelte-1d15yci")&&A(n,"class",r),4&e&&A(n,"viewBox",t[2])},i:e,o:e,d(t){t&&m(n)}}}function ut(t,e,u){let{icon:r}=e,a=[],s="",l="";return t.$$set=t=>{u(4,e=n(n({},e),i(t))),"icon"in t&&u(3,r=t.icon)},t.$$.update=()=>{8&t.$$.dirty&&u(2,l="0 0 "+r.icon[0]+" "+r.icon[1]),u(1,s="fa-svelte "+(e.class?e.class:"")),8&t.$$.dirty&&u(0,a=r.icon[4])},e=i(e),[a,s,l,r]}class rt extends et{constructor(t){super(),tt(this,t,ut,nt,l,{icon:3})}}
/*!
     * Font Awesome Free 5.15.1 by @fontawesome - https://fontawesome.com
     * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
     */var at={prefix:"far",iconName:"arrow-alt-circle-up",icon:[512,512,[],"f35b","M256 504c137 0 248-111 248-248S393 8 256 8 8 119 8 256s111 248 248 248zm0-448c110.5 0 200 89.5 200 200s-89.5 200-200 200S56 366.5 56 256 145.5 56 256 56zm20 328h-40c-6.6 0-12-5.4-12-12V256h-67c-10.7 0-16-12.9-8.5-20.5l99-99c4.7-4.7 12.3-4.7 17 0l99 99c7.6 7.6 2.2 20.5-8.5 20.5h-67v116c0 6.6-5.4 12-12 12z"]};function st(t){let e,n,u=t[2].toFixed()+"";return{c(){e=f("span"),n=h(u),A(e,"class","svelte-gpjrua")},m(t,u){d(t,e,u),c(e,n)},p(t,e){4&e&&u!==(u=t[2].toFixed()+"")&&N(n,u)},d(t){t&&m(e)}}}function lt(t){let e,n,u=t[2].toFixed(1)+"";return{c(){e=f("span"),n=h(u),A(e,"class","svelte-gpjrua")},m(t,u){d(t,e,u),c(e,n)},p(t,e){4&e&&u!==(u=t[2].toFixed(1)+"")&&N(n,u)},d(t){t&&m(e)}}}function it(t){let e,n,u;return n=new rt({props:{icon:at}}),{c(){e=f("div"),K(n.$$.fragment),v(e,"font-size","32px"),v(e,"transform","rotate("+t[4]+"deg)"),A(e,"class","svelte-gpjrua")},m(t,r){d(t,e,r),U(n,e,null),u=!0},p(t,n){(!u||16&n)&&v(e,"transform","rotate("+t[4]+"deg)")},i(t){u||(q(n.$$.fragment,t),u=!0)},o(t){H(n.$$.fragment,t),u=!1},d(t){t&&m(e),W(n)}}}function ot(t){let n;return{c(){n=h("terminal state")},m(t,e){d(t,n,e)},p:e,i:e,o:e,d(t){t&&m(n)}}}function ct(t){let n;return{c(){n=h("blocked")},m(t,e){d(t,n,e)},p:e,i:e,o:e,d(t){t&&m(n)}}}function dt(t){let e,n,u,r,a,s,l,i,o,g,p,x,y,v,Q,S,Y,X,b,k,F,E,M,R,D,V,B,C,j,T,_=t[3][mt.up].toFixed(3)+"",I=t[3][mt.left].toFixed(3)+"",P=t[3][mt.right].toFixed(3)+"",L=t[3][mt.down].toFixed(3)+"";function z(t,e){return(null==o||4&e)&&(o=!!(Math.abs(t[2])<10)),o?lt:st}let J=z(t,-1),K=J(t);const U=[ct,ot,it],W=[];function Z(t,e){return t[0]?0:t[1]?1:2}return S=Z(t),Y=W[S]=U[S](t),{c(){e=f("div"),n=f("div"),u=$(),r=f("div"),a=f("span"),s=h(_),l=$(),i=f("div"),K.c(),g=$(),p=f("div"),x=f("span"),y=h(I),v=$(),Q=f("div"),Y.c(),X=$(),b=f("div"),k=f("span"),F=h(P),E=$(),M=f("div"),R=$(),D=f("div"),V=f("span"),B=h(L),C=$(),j=f("div"),A(a,"class","svelte-gpjrua"),A(r,"class","sub-tile sub-tile-top svelte-gpjrua"),A(i,"class","sub-tile sub-tile-reward svelte-gpjrua"),w(i,"reward-is-negative",t[2]<0),A(x,"class","svelte-gpjrua"),A(p,"class","sub-tile sub-tile-left svelte-gpjrua"),A(Q,"class","sub-tile sub-tile-middle svelte-gpjrua"),A(k,"class","svelte-gpjrua"),A(b,"class","sub-tile sub-tile-right svelte-gpjrua"),A(V,"class","svelte-gpjrua"),A(D,"class","sub-tile sub-tile-bottom svelte-gpjrua"),A(e,"class","tile svelte-gpjrua"),A(e,"style",t[5]),w(e,"blocked",t[0]),w(e,"terminal",t[1])},m(t,o){d(t,e,o),c(e,n),c(e,u),c(e,r),c(r,a),c(a,s),c(e,l),c(e,i),K.m(i,null),c(e,g),c(e,p),c(p,x),c(x,y),c(e,v),c(e,Q),W[S].m(Q,null),c(e,X),c(e,b),c(b,k),c(k,F),c(e,E),c(e,M),c(e,R),c(e,D),c(D,V),c(V,B),c(e,C),c(e,j),T=!0},p(t,[n]){(!T||8&n)&&_!==(_=t[3][mt.up].toFixed(3)+"")&&N(s,_),J===(J=z(t,n))&&K?K.p(t,n):(K.d(1),K=J(t),K&&(K.c(),K.m(i,null))),4&n&&w(i,"reward-is-negative",t[2]<0),(!T||8&n)&&I!==(I=t[3][mt.left].toFixed(3)+"")&&N(y,I);let u=S;S=Z(t),S===u?W[S].p(t,n):(G(),H(W[u],1,1,(()=>{W[u]=null})),O(),Y=W[S],Y?Y.p(t,n):(Y=W[S]=U[S](t),Y.c()),q(Y,1),Y.m(Q,null)),(!T||8&n)&&P!==(P=t[3][mt.right].toFixed(3)+"")&&N(F,P),(!T||8&n)&&L!==(L=t[3][mt.down].toFixed(3)+"")&&N(B,L),(!T||32&n)&&A(e,"style",t[5]),1&n&&w(e,"blocked",t[0]),2&n&&w(e,"terminal",t[1])},i(t){T||(q(Y),T=!0)},o(t){H(Y),T=!1},d(t){t&&m(e),K.d(),W[S].d()}}}const mt=Object.freeze({up:0,right:1,down:2,left:3});function gt(t,e,n){let u,r=!1,a=!1,s=0,l=Array.from({length:4},(()=>0)),i="";const o=()=>Math.max(...l);return[r,a,s,l,u,i,()=>r,()=>{n(0,r=!0)},()=>a,()=>{n(1,a=!0)},()=>s,t=>{n(2,s=t),a&&n(3,l=Array.from({length:4},(()=>t)))},o,t=>{a||r||(n(3,l=t),(()=>{let t=l.indexOf(o());n(4,u=(90*t).toFixed())})())},t=>{let e,u,a,s=.35+.6*t;r||(e=0+255*s,u=110+145*s,a=210+45*s,n(5,i="background: rgb("+e+","+u+","+a+", 1);"))}]}class ft extends et{constructor(t){super(),tt(this,t,gt,dt,l,{isBlocked:6,setBlocked:7,isTerminal:8,setTerminal:9,getReward:10,setReward:11,getMaxValue:12,setValues:13,setHeat:14})}get isBlocked(){return this.$$.ctx[6]}get setBlocked(){return this.$$.ctx[7]}get isTerminal(){return this.$$.ctx[8]}get setTerminal(){return this.$$.ctx[9]}get getReward(){return this.$$.ctx[10]}get setReward(){return this.$$.ctx[11]}get getMaxValue(){return this.$$.ctx[12]}get setValues(){return this.$$.ctx[13]}get setHeat(){return this.$$.ctx[14]}}function pt(t,e,n){const u=t.slice();return u[16]=e[n],u[17]=e,u[18]=n,u}function ht(t,e,n){const u=t.slice();return u[16]=e[n],u[19]=e,u[20]=n,u}function $t(t){let e,n,u=t[20],r=t[18];const a=()=>t[10](e,u,r),s=()=>t[10](null,u,r);return e=new ft({props:{}}),a(),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){u===t[20]&&r===t[18]||(s(),u=t[20],r=t[18],a());e.$set({})},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(t){s(),W(e,t)}}}function xt(t){let e,n,u=Array(t[0]),r=[];for(let e=0;e<u.length;e+=1)r[e]=$t(ht(t,u,e));const a=t=>H(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=x()},m(t,u){for(let e=0;e<r.length;e+=1)r[e].m(t,u);d(t,e,u),n=!0},p(t,n){if(5&n){let s;for(u=Array(t[0]),s=0;s<u.length;s+=1){const a=ht(t,u,s);r[s]?(r[s].p(a,n),q(r[s],1)):(r[s]=$t(a),r[s].c(),q(r[s],1),r[s].m(e.parentNode,e))}for(G(),s=u.length;s<r.length;s+=1)a(s);O()}},i(t){if(!n){for(let t=0;t<u.length;t+=1)q(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)H(r[t]);n=!1},d(t){g(r,t),t&&m(e)}}}function yt(t){let e,n,u=Array(t[1]),r=[];for(let e=0;e<u.length;e+=1)r[e]=xt(pt(t,u,e));const a=t=>H(r[t],1,1,(()=>{r[t]=null}));return{c(){e=f("div");for(let t=0;t<r.length;t+=1)r[t].c();A(e,"class","maze svelte-csffwp"),v(e,"grid-template-columns","repeat("+t[0]+", 100px)")},m(t,u){d(t,e,u);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[s]){if(7&s){let n;for(u=Array(t[1]),n=0;n<u.length;n+=1){const a=pt(t,u,n);r[n]?(r[n].p(a,s),q(r[n],1)):(r[n]=xt(a),r[n].c(),q(r[n],1),r[n].m(e,null))}for(G(),n=u.length;n<r.length;n+=1)a(n);O()}(!n||1&s)&&v(e,"grid-template-columns","repeat("+t[0]+", 100px)")},i(t){if(!n){for(let t=0;t<u.length;t+=1)q(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)H(r[t]);n=!1},d(t){t&&m(e),g(r,t)}}}function At(t,e,n){let{numX:u}=e,{numY:r}=e,{blocked:a=[]}=e,{terminal:s=[]}=e,{rewards:l=[]}=e,{defaultReward:i=0}=e,o=Array.from({length:u},(()=>Array.from({length:r},(()=>null))));b((()=>{a.forEach((t=>{o[t[0]][t[1]].setBlocked()})),s.forEach((t=>{o[t[0]][t[1]].setTerminal()}));for(let t=0;t<r;t++)for(let e=0;e<u;e++)o[e][t].setReward(i);l.forEach((t=>{o[t[0]][t[1]].setReward(t[2])}))}));const c=t=>o[t[0]][t[1]].isBlocked(),d=t=>o[t[0]][t[1]].isTerminal(),m=t=>o[t[0]][t[1]].getReward(),g=()=>{let t=1e6,e=-1e6;for(let n=0;n<r;n++)for(let r=0;r<u;r++){let u=o[r][n].getMaxValue();t>u&&(t=u),e<u&&(e=u)}let n=e-t;for(let e=0;e<r;e++)for(let r=0;r<u;r++){let u=o[r][e].getMaxValue();o[r][e].setHeat((u-t)/n)}},f=t=>Math.floor(Math.random()*Math.floor(t));return t.$$set=t=>{"numX"in t&&n(0,u=t.numX),"numY"in t&&n(1,r=t.numY),"blocked"in t&&n(3,a=t.blocked),"terminal"in t&&n(4,s=t.terminal),"rewards"in t&&n(5,l=t.rewards),"defaultReward"in t&&n(6,i=t.defaultReward)},[u,r,o,a,s,l,i,(t,e)=>{o[t[0]][t[1]].setValues(e),g()},()=>{for(;;){let t=[f(u),f(r)];if(!d(t)&&!c(t))return t}},(t,e)=>{let n=[...t];return e==mt.down&&t[1]<r-1&&(n[1]+=1),e==mt.right&&t[0]<u-1&&(n[0]+=1),e==mt.up&&t[1]>0&&(n[1]-=1),e==mt.left&&t[0]>0&&(n[0]-=1),c(n)&&(n=[...t]),[n,m(n),d(n)]},function(t,e,u){M[t?"unshift":"push"]((()=>{o[e][u]=t,n(2,o)}))}]}class Nt extends et{constructor(t){super(),tt(this,t,At,yt,l,{numX:0,numY:1,blocked:3,terminal:4,rewards:5,defaultReward:6,setValues:7,getRandomStartState:8,step:9})}get setValues(){return this.$$.ctx[7]}get getRandomStartState(){return this.$$.ctx[8]}get step(){return this.$$.ctx[9]}}function vt(t){let n;return{c(){n=f("div"),A(n,"class","plot svelte-1qi4jkb")},m(e,u){d(e,n,u),t[12](n)},p:e,i:e,o:e,d(e){e&&m(n),t[12](null)}}}function Qt(t,e,n){let u,{title:r=""}=e,{xIsLog:a=!1}=e,{data:s=[]}=e,{yIsLog:l=!1}=e,{yTitle:i=""}=e,{hasSecondY:o=!1}=e,{dataSecond:c=[]}=e,{ySecondIsLog:d=!1}=e,{ySecondTitle:m=""}=e;const g=()=>{let t=s.length?-.02*s.length:-.02,e=s.length?1.02*s.length:1.02,n={title:r,showlegend:!1,xaxis:{type:a?"log":"linear",range:[t,e]},yaxis:{title:i,type:l?"log":"linear",range:[-1.1,1.1],titlefont:{color:"#08C"},tickfont:{color:"#08C"},autorange:!0},margin:{autoexpand:!1,t:50,l:40,b:30,r:20}};""!=i&&(n.margin.l=60);let g=[{x:[...Array(s.length).keys()],y:s,mode:"lines",line:{shape:"spline"},type:"scatter"}];if(o){n.yaxis2={title:m,type:d?"log":"linear",range:[-1.1,1.1],overlaying:"y",side:"right",titlefont:{color:"#E60"},tickfont:{color:"#E60"},autorange:!0},n.margin.r=""!=m?60:40;let t={x:[...Array(c.length).keys()],y:c,mode:"lines",line:{shape:"spline"},type:"scatter",yaxis:"y2"};g.push(t)}Plotly.react(u,g,n,{displaylogo:!1})};return b((()=>{g()})),t.$$set=t=>{"title"in t&&n(3,r=t.title),"xIsLog"in t&&n(4,a=t.xIsLog),"data"in t&&n(1,s=t.data),"yIsLog"in t&&n(5,l=t.yIsLog),"yTitle"in t&&n(6,i=t.yTitle),"hasSecondY"in t&&n(7,o=t.hasSecondY),"dataSecond"in t&&n(2,c=t.dataSecond),"ySecondIsLog"in t&&n(8,d=t.ySecondIsLog),"ySecondTitle"in t&&n(9,m=t.ySecondTitle)},[u,s,c,r,a,l,i,o,d,m,g,()=>{n(1,s=[]),n(2,c=[]),g()},function(t){M[t?"unshift":"push"]((()=>{u=t,n(0,u)}))}]}class wt extends et{constructor(t){super(),tt(this,t,Qt,vt,l,{title:3,xIsLog:4,data:1,yIsLog:5,yTitle:6,hasSecondY:7,dataSecond:2,ySecondIsLog:8,ySecondTitle:9,updatePlot:10,clearPlot:11})}get updatePlot(){return this.$$.ctx[10]}get clearPlot(){return this.$$.ctx[11]}}function St(t,e,n){const u=k();let{numX:r}=e,{numY:a}=e,{numA:s}=e,l=Array.from({length:r},(()=>Array.from({length:a},(()=>null))));const i=()=>{for(let t=0;t<a;t++)for(let e=0;e<r;e++)l[e][t]=Array(s).fill().map((()=>Math.random()));u("modelChanged",{})};b((()=>{i()}));return t.$$set=t=>{"numX"in t&&n(0,r=t.numX),"numY"in t&&n(1,a=t.numY),"numA"in t&&n(2,s=t.numA)},[r,a,s,i,t=>{let e=t[0],n=t[1];return l[e][n]},(t,e)=>{let n=t.state[0],r=t.state[1],a=t.a;l[n][r][a]=e(t),u("modelChanged",{})}]}class Yt extends et{constructor(t){super(),tt(this,t,St,null,l,{numX:0,numY:1,numA:2,init:3,predictState:4,updateModel:5})}get init(){return this.$$.ctx[3]}get predictState(){return this.$$.ctx[4]}get updateModel(){return this.$$.ctx[5]}}function Xt(t,e,n){let u=[],{maxData:r=1e3}=e;return t.$$set=t=>{"maxData"in t&&n(0,r=t.maxData)},[r,t=>{for(;u.length>=r;)u.shift();u.push(t)},t=>{let e=u.length;if(e<=t)return[...u];let n=new Array(t),r=new Array(e);for(;t--;){let a=Math.floor(Math.random()*e);n[t]=u[a in r?r[a]:a],r[a]=--e in r?r[e]:e}return n},()=>[...u],()=>{u=[]},()=>u.length]}class bt extends et{constructor(t){super(),tt(this,t,Xt,null,l,{maxData:0,add:1,getBatch:2,getAll:3,clear:4,length:5})}get add(){return this.$$.ctx[1]}get getBatch(){return this.$$.ctx[2]}get getAll(){return this.$$.ctx[3]}get clear(){return this.$$.ctx[4]}get length(){return this.$$.ctx[5]}}function kt(t){let e,n;return e=new bt({props:{maxData:Ft}}),t[10](e),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){e.$set({})},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[10](null),W(e,n)}}}const Ft=2e3;function Et(t,e,n){const u=k();let r,a,{numX:s}=e,{numY:l}=e,{numA:i}=e,{duelingQNet:o=!1}=e,{learningRate:c=.002}=e,{trainDistance:d=10}=e,m=0;class g extends tf.layers.Layer{constructor(){super({})}getClassName(){return"DuelingLayer"}computeOutputShape(t){return t[0]}call(t,e){return tf.tidy((()=>{const e=t[0],n=t[1];return e.sub(e.mean(1).reshape([-1,1])).add(n)}))}}const f=()=>{null!=r&&r.dispose(),o?(()=>{const t=tf.input({shape:[2]}),e=tf.layers.dense({units:10,useBias:!0,activation:"tanh"}).apply(t),n=tf.layers.dense({units:10,useBias:!0,activation:"tanh"}).apply(e),u=tf.layers.dense({units:10,useBias:!0,activation:"tanh"}).apply(n),a=tf.layers.dense({units:i,useBias:!0,activation:"linear"}).apply(u),s=tf.layers.dense({units:10,useBias:!0,activation:"tanh"}).apply(n),l=tf.layers.dense({units:1,useBias:!0,activation:"linear"}).apply(s),o=(new g).apply([a,l]);r=tf.model({inputs:t,outputs:o})})():(r=tf.sequential(),r.add(tf.layers.dense({inputShape:[2],units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:i,useBias:!0,activation:"linear"}))),r.compile({optimizer:tf.train.adam(c),loss:"meanSquaredError",metrics:["accuracy"]})},p=t=>((t,e,n)=>{let u=[];return t.forEach(((t,r)=>{t-=(n[r]+e[r])/2,t/=(n[r]-e[r])/2,u.push(t)})),u})(t,[0,0],[s-1,l-1]),h=()=>{f(),a.clear(),u("modelChanged",{})};b((()=>{h()}));const $=t=>{let e;return tf.tidy((()=>{const n=tf.tensor2d(t,[t.length,t[0].length],"float32");e=r.predict(n).arraySync()})),e};return t.$$set=t=>{"numX"in t&&n(1,s=t.numX),"numY"in t&&n(2,l=t.numY),"numA"in t&&n(3,i=t.numA),"duelingQNet"in t&&n(4,o=t.duelingQNet),"learningRate"in t&&n(5,c=t.learningRate),"trainDistance"in t&&n(6,d=t.trainDistance)},[a,s,l,i,o,c,d,h,t=>$([p(t)])[0],async(t,e)=>{if(t.normState=p(t.state),a.add(t),m++,m<d)return;m=0;const n=a.getBatch(100);let s=[];n.forEach((t=>{s.push(t.normState)}));let l=$(s);n.forEach(((t,n)=>{l[n][t.a]=e(t)})),await(async(t,e)=>{const n=tf.tensor2d(t,[t.length,t[0].length],"float32"),u=tf.tensor2d(e,[e.length,e[0].length],"float32");await r.fit(n,u,{batchSize:t.length,epochs:10,shuffle:!0,callbacks:{}}),n.dispose(),u.dispose()})(s,l),u("modelChanged",{})},function(t){M[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class Mt extends et{constructor(t){super(),tt(this,t,Et,kt,l,{numX:1,numY:2,numA:3,duelingQNet:4,learningRate:5,trainDistance:6,init:7,predictState:8,updateModel:9})}get init(){return this.$$.ctx[7]}get predictState(){return this.$$.ctx[8]}get updateModel(){return this.$$.ctx[9]}}function Rt(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2]};return e=new Yt({props:u}),t[18](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[18](null),W(e,n)}}}function Dt(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],duelingQNet:t[4],learningRate:t[5],trainDistance:t[6]};return e=new Mt({props:u}),t[16](e),e.$on("modelChanged",t[17]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),16&n&&(u.duelingQNet=t[4]),32&n&&(u.learningRate=t[5]),64&n&&(u.trainDistance=t[6]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[16](null),W(e,n)}}}function Vt(t){let e,n,u,r;const a=[Dt,Rt],s=[];function l(t,e){return t[3]?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),u=x()},m(t,n){s[e].m(t,n),d(t,u,n),r=!0},p(t,[r]){let i=e;e=l(t),e===i?s[e].p(t,r):(G(),H(s[i],1,1,(()=>{s[i]=null})),O(),n=s[e],n?n.p(t,r):(n=s[e]=a[e](t),n.c()),q(n,1),n.m(u.parentNode,u))},i(t){r||(q(n),r=!0)},o(t){H(n),r=!1},d(t){s[e].d(t),t&&m(u)}}}function Bt(t,e,n){let u,{numX:r}=e,{numY:a}=e,{numA:s}=e,{useQNet:l=!0}=e,{duelingQNet:i=!1}=e,{learningRate:o=.002}=e,{trainDistance:c=10}=e;const d=t=>u.predictState(t),m=t=>{let e=d(t);return e.indexOf(Math.max(...e))},g=t=>Math.floor(Math.random()*Math.floor(t));return t.$$set=t=>{"numX"in t&&n(0,r=t.numX),"numY"in t&&n(1,a=t.numY),"numA"in t&&n(2,s=t.numA),"useQNet"in t&&n(3,l=t.useQNet),"duelingQNet"in t&&n(4,i=t.duelingQNet),"learningRate"in t&&n(5,o=t.learningRate),"trainDistance"in t&&n(6,c=t.trainDistance)},[r,a,s,l,i,o,c,u,d,(t,e)=>d(t)[e],t=>Math.max(...d(t)),m,g,(t,e)=>Math.random()<e?g(s):m(t),()=>{u.init()},async(t,e)=>u.updateModel(t,e),function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(e){F(t,e)},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(e){F(t,e)}]}class Ct extends et{constructor(t){super(),tt(this,t,Bt,Vt,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,learningRate:5,trainDistance:6,getQValues:8,getQValue:9,getMaxQValue:10,getPolicy:11,getRandomInt:12,getEpsilonGreedyAction:13,init:14,updateModel:15})}get getQValues(){return this.$$.ctx[8]}get getQValue(){return this.$$.ctx[9]}get getMaxQValue(){return this.$$.ctx[10]}get getPolicy(){return this.$$.ctx[11]}get getRandomInt(){return this.$$.ctx[12]}get getEpsilonGreedyAction(){return this.$$.ctx[13]}get init(){return this.$$.ctx[14]}get updateModel(){return this.$$.ctx[15]}}function jt(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useQNet:t[3],duelingQNet:t[4]};return e=new Ct({props:u}),t[12](e),e.$on("modelChanged",t[13]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useQNet=t[3]),16&n&&(u.duelingQNet=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[12](null),W(e,n)}}}function Tt(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useQNet:i=!1}=e,{duelingQNet:o=!1}=e,c=0,d=0,m=!1,{envStepFunc:g=null}=e,{episodeDoneFunc:f=null}=e;const p=t=>{let e;return e=t.done?t.r:t.r+.9*r.getMaxQValue(t.stateNext),i?e:.8*r.getQValue(t.state,t.a)+.2*e},h=t=>{let e,n,a;m?f(c,d):u=setTimeout((async()=>{n=r.getEpsilonGreedyAction(t,.1),[e,a,m]=g(t,n),await r.updateModel({state:t,a:n,r:a,stateNext:e,done:m},p),t=[...e],d+=a,c++,h(t)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useQNet"in t&&n(3,i=t.useQNet),"duelingQNet"in t&&n(4,o=t.duelingQNet),"envStepFunc"in t&&n(6,g=t.envStepFunc),"episodeDoneFunc"in t&&n(7,f=t.episodeDoneFunc)},[a,s,l,i,o,r,g,f,t=>{d=0,c=0,m=!1,h(t)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getQValues(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},function(e){F(t,e)}]}class _t extends et{constructor(t){super(),tt(this,t,Tt,jt,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,envStepFunc:6,episodeDoneFunc:7,runEpisode:8,init:9,halt:10,getValues:11})}get runEpisode(){return this.$$.ctx[8]}get init(){return this.$$.ctx[9]}get halt(){return this.$$.ctx[10]}get getValues(){return this.$$.ctx[11]}}function It(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useQNet:t[3],duelingQNet:t[4]};return e=new Ct({props:u}),t[12](e),e.$on("modelChanged",t[13]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useQNet=t[3]),16&n&&(u.duelingQNet=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[12](null),W(e,n)}}}function Pt(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useQNet:i=!1}=e,{duelingQNet:o=!1}=e,c=0,d=0,m=!1,{envStepFunc:g=null}=e,{episodeDoneFunc:f=null}=e;const p=t=>{let e;return e=t.done?t.r:t.r+.9*r.getQValue(t.stateNext,t.aNext),i?e:.8*r.getQValue(t.state,t.a)+.2*e},h=(t,e)=>{let n,a,s;m?f(c,d):u=setTimeout((async()=>{[n,s,m]=g(t,e),a=r.getEpsilonGreedyAction(n,.1),await r.updateModel({state:t,a:e,r:s,stateNext:n,aNext:a,done:m},p),t=[...n],e=Number(a),d+=s,c++,h(t,e)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useQNet"in t&&n(3,i=t.useQNet),"duelingQNet"in t&&n(4,o=t.duelingQNet),"envStepFunc"in t&&n(6,g=t.envStepFunc),"episodeDoneFunc"in t&&n(7,f=t.episodeDoneFunc)},[a,s,l,i,o,r,g,f,t=>{d=0,c=0,m=!1;let e=r.getEpsilonGreedyAction(t,.1);h(t,e)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getQValues(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},function(e){F(t,e)}]}class Lt extends et{constructor(t){super(),tt(this,t,Pt,It,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,envStepFunc:6,episodeDoneFunc:7,runEpisode:8,init:9,halt:10,getValues:11})}get runEpisode(){return this.$$.ctx[8]}get init(){return this.$$.ctx[9]}get halt(){return this.$$.ctx[10]}get getValues(){return this.$$.ctx[11]}}function zt(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useQNet:t[3],duelingQNet:t[4]};return e=new Ct({props:u}),t[12](e),e.$on("modelChanged",t[13]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useQNet=t[3]),16&n&&(u.duelingQNet=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[12](null),W(e,n)}}}const Gt=.1;function Ot(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useQNet:i=!1}=e,{duelingQNet:o=!1}=e,c=0,d=0,m=!1,{envStepFunc:g=null}=e,{episodeDoneFunc:f=null}=e;const p=t=>{let e;if(t.done)e=t.r;else{let n,u=0;n=Gt/l;for(let e=0;e<l;e++)u+=n*r.getQValue(t.stateNext,e);n=.9;let a=r.getPolicy(t.stateNext);u+=n*r.getQValue(t.stateNext,a),e=t.r+.9*u}return i?e:.8*r.getQValue(t.state,t.a)+.2*e},h=(t,e)=>{let n,a,s;m?f(c,d):u=setTimeout((async()=>{[n,s,m]=g(t,e),a=r.getEpsilonGreedyAction(n,Gt),await r.updateModel({state:t,a:e,r:s,stateNext:n,aNext:a,done:m},p),t=[...n],e=Number(a),d+=s,c++,h(t,e)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useQNet"in t&&n(3,i=t.useQNet),"duelingQNet"in t&&n(4,o=t.duelingQNet),"envStepFunc"in t&&n(6,g=t.envStepFunc),"episodeDoneFunc"in t&&n(7,f=t.episodeDoneFunc)},[a,s,l,i,o,r,g,f,t=>{d=0,c=0,m=!1;let e=r.getEpsilonGreedyAction(t,Gt);h(t,e)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getQValues(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},function(e){F(t,e)}]}class qt extends et{constructor(t){super(),tt(this,t,Ot,zt,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,envStepFunc:6,episodeDoneFunc:7,runEpisode:8,init:9,halt:10,getValues:11})}get runEpisode(){return this.$$.ctx[8]}get init(){return this.$$.ctx[9]}get halt(){return this.$$.ctx[10]}get getValues(){return this.$$.ctx[11]}}function Ht(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useQNet:t[3],duelingQNet:t[4],learningRate:Jt};return e=new Ct({props:u}),t[13](e),e.$on("modelChanged",t[14]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useQNet=t[3]),16&n&&(u.duelingQNet=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[13](null),W(e,n)}}}let Jt=.002;function Kt(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useQNet:i=!1}=e,{duelingQNet:o=!1}=e,{planningSteps:c=10}=e,d=0,m=0,g=!1,{envStepFunc:f=null}=e,{episodeDoneFunc:p=null}=e;const h=t=>{let e;return e=t.done?t.r:t.r+.9*r.getMaxQValue(t.stateNext),i?e:.8*r.getQValue(t.state,t.a)+.2*e};let $=Array.from({length:a},(()=>Array.from({length:s},(()=>Array.from({length:l},(()=>null)))))),x=[];const y=()=>{let t=r.getRandomInt(x.length);return x[t]},A=t=>{let e,n,a;g?p(d,m):u=setTimeout((async()=>{n=r.getEpsilonGreedyAction(t,.1),[e,a,g]=f(t,n),await r.updateModel({state:t,a:n,r:a,stateNext:e,done:g},h),(t=>{let e=t.state[0],n=t.state[1],u=t.a,r=!1;for(let t=0;t<x.length;t++)if(x[t][0]==e&&x[t][1]==n&&x[t][2]==u){r=!0;break}r||x.push([t.state,u]),$[e][n][u]=[t.stateNext,t.r,t.done]})({state:t,a:n,r:a,stateNext:e,done:g}),t=[...e];for(let t=0;t<c;t++){let t,e,n,u,a;[t,e]=y(),[u,n,a]=$[t[0]][t[1]][e],await r.updateModel({state:t,a:e,r:n,stateNext:u,done:a},h)}m+=a,d++,A(t)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useQNet"in t&&n(3,i=t.useQNet),"duelingQNet"in t&&n(4,o=t.duelingQNet),"planningSteps"in t&&n(6,c=t.planningSteps),"envStepFunc"in t&&n(7,f=t.envStepFunc),"episodeDoneFunc"in t&&n(8,p=t.episodeDoneFunc)},[a,s,l,i,o,r,c,f,p,t=>{m=0,d=0,g=!1,A(t)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getQValues(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},function(e){F(t,e)}]}class Ut extends et{constructor(t){super(),tt(this,t,Kt,Ht,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,planningSteps:6,envStepFunc:7,episodeDoneFunc:8,runEpisode:9,init:10,halt:11,getValues:12})}get runEpisode(){return this.$$.ctx[9]}get init(){return this.$$.ctx[10]}get halt(){return this.$$.ctx[11]}get getValues(){return this.$$.ctx[12]}}function Wt(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useQNet:t[3],duelingQNet:t[4],learningRate:Zt};return e=new Ct({props:u}),t[12](e),e.$on("modelChanged",t[13]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useQNet=t[3]),16&n&&(u.duelingQNet=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[12](null),W(e,n)}}}let Zt=.001;function te(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useQNet:i=!1}=e,{duelingQNet:o=!1}=e,c=0,d=0,m=!1,{envStepFunc:g=null}=e,{episodeDoneFunc:f=null}=e;const p=t=>i?t.g:.8*r.getQValue(t.state,t.a)+.2*t.g;let h;const $=t=>{let e,n,i;m?((async()=>{for(let t=0;t<s;t++)for(let e=0;e<a;e++)for(let n=0;n<l;n++){let u=!1,a=0,s=1;for(let r=0;r<h.length;r++)e==h[r].state[0]&&t==h[r].state[1]&&n==h[r].a&&(u=!0),u&&(a+=s*h[r].r,s*=.9);if(u){let u=[e,t];await r.updateModel({state:u,a:n,g:a},p)}}})(),f(c,d)):u=setTimeout((()=>{n=r.getEpsilonGreedyAction(t,.1),[e,i,m]=g(t,n),h.push({state:t,a:n,r:i}),t=[...e],d+=i,c++,$(t)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useQNet"in t&&n(3,i=t.useQNet),"duelingQNet"in t&&n(4,o=t.duelingQNet),"envStepFunc"in t&&n(6,g=t.envStepFunc),"episodeDoneFunc"in t&&n(7,f=t.episodeDoneFunc)},[a,s,l,i,o,r,g,f,t=>{d=0,c=0,m=!1,h=[],$(t)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getQValues(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(5,r)}))},function(e){F(t,e)}]}class ee extends et{constructor(t){super(),tt(this,t,te,Wt,l,{numX:0,numY:1,numA:2,useQNet:3,duelingQNet:4,envStepFunc:6,episodeDoneFunc:7,runEpisode:8,init:9,halt:10,getValues:11})}get runEpisode(){return this.$$.ctx[8]}get init(){return this.$$.ctx[9]}get halt(){return this.$$.ctx[10]}get getValues(){return this.$$.ctx[11]}}function ne(t,e,n){const u=k();let{numX:r}=e,{numY:a}=e,{numA:s}=e,l=Array.from({length:r},(()=>Array.from({length:a},(()=>null)))),i=Array.from({length:r},(()=>Array.from({length:a},(()=>null))));const o=()=>{for(let t=0;t<a;t++)for(let e=0;e<r;e++)l[e][t]=Array(s).fill().map((()=>Math.random())),i[e][t]=[...l[e][t]];u("modelChanged",{})};b((()=>{o()}));return t.$$set=t=>{"numX"in t&&n(0,r=t.numX),"numY"in t&&n(1,a=t.numY),"numA"in t&&n(2,s=t.numA)},[r,a,s,o,t=>{let e=t[0],n=t[1];return l[e][n]},(t,e)=>{let n=t.state[0],u=t.state[1],r=t.a;i[n][u][r]=.75*i[n][u][r]+.25*e(l[n][u],t)[r]},()=>{for(let t=0;t<a;t++)for(let e=0;e<r;e++)l[e][t]=[...i[e][t]];u("modelChanged",{})}]}class ue extends et{constructor(t){super(),tt(this,t,ne,null,l,{numX:0,numY:1,numA:2,init:3,predictState:4,updateModel:5,takeModel:6})}get init(){return this.$$.ctx[3]}get predictState(){return this.$$.ctx[4]}get updateModel(){return this.$$.ctx[5]}get takeModel(){return this.$$.ctx[6]}}function re(t){let e,n;return e=new bt({props:{maxData:ae}}),t[9](e),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){e.$set({})},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[9](null),W(e,n)}}}const ae=2e3;function se(t,e,n){const u=k();let r,a,{numX:s}=e,{numY:l}=e,{numA:i}=e,{learningRate:o=.002}=e;const c=()=>{null!=r&&r.dispose(),r=tf.sequential(),r.add(tf.layers.dense({inputShape:[2],units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:10,useBias:!0,activation:"tanh"})),r.add(tf.layers.dense({units:i,useBias:!0,activation:"linear"})),r.compile({optimizer:tf.train.adam(o),loss:"meanSquaredError",metrics:["accuracy"]})},d=async(t,e)=>{const n=tf.tensor2d(t,[t.length,t[0].length],"float32"),u=tf.tensor2d(e,[e.length,e[0].length],"float32");await r.fit(n,u,{batchSize:t.length,epochs:10,shuffle:!0,callbacks:{}}),n.dispose(),u.dispose()},m=t=>((t,e,n)=>{let u=[];return t.forEach(((t,r)=>{t-=(n[r]+e[r])/2,t/=(n[r]-e[r])/2,u.push(t)})),u})(t,[0,0],[s-1,l-1]),g=()=>{c(),a.clear(),u("modelChanged",{})};b((()=>{g()}));const f=t=>{let e;return tf.tidy((()=>{const n=tf.tensor2d(t,[t.length,t[0].length],"float32");e=r.predict(n).arraySync()})),e};return t.$$set=t=>{"numX"in t&&n(1,s=t.numX),"numY"in t&&n(2,l=t.numY),"numA"in t&&n(3,i=t.numA),"learningRate"in t&&n(4,o=t.learningRate)},[a,s,l,i,o,g,t=>f([m(t)])[0],(t,e)=>{let n=m(t.state),u=f([n])[0];u=e(u,t),a.add({normState:n,logits:u})},async()=>{for(let t=0;t<Math.ceil(a.length()/100);t++){const t=a.getBatch(100);let e=[],n=[];t.forEach((t=>{e.push(t.normState),n.push(t.logits)})),await d(e,n)}a.clear(),u("modelChanged",{})},function(t){M[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class le extends et{constructor(t){super(),tt(this,t,se,re,l,{numX:1,numY:2,numA:3,learningRate:4,init:5,predictState:6,updateModel:7,takeModel:8})}get init(){return this.$$.ctx[5]}get predictState(){return this.$$.ctx[6]}get updateModel(){return this.$$.ctx[7]}get takeModel(){return this.$$.ctx[8]}}function ie(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2]};return e=new ue({props:u}),t[17](e),e.$on("modelChanged",t[18]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[17](null),W(e,n)}}}function oe(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],learningRate:t[4]};return e=new le({props:u}),t[15](e),e.$on("modelChanged",t[16]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),16&n&&(u.learningRate=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[15](null),W(e,n)}}}function ce(t){let e,n,u,r;const a=[oe,ie],s=[];function l(t,e){return t[3]?0:1}return e=l(t),n=s[e]=a[e](t),{c(){n.c(),u=x()},m(t,n){s[e].m(t,n),d(t,u,n),r=!0},p(t,[r]){let i=e;e=l(t),e===i?s[e].p(t,r):(G(),H(s[i],1,1,(()=>{s[i]=null})),O(),n=s[e],n?n.p(t,r):(n=s[e]=a[e](t),n.c()),q(n,1),n.m(u.parentNode,u))},i(t){r||(q(n),r=!0)},o(t){H(n),r=!1},d(t){s[e].d(t),t&&m(u)}}}function de(t,e,n){let{numX:u}=e,{numY:r}=e,{numA:a}=e,{useNet:s=!0}=e,{learningRate:l=.002}=e,i=[];const o=t=>{let e=Math.max(...t),n=[];t.forEach((t=>{n.push(t-e)}));let u=[];n.forEach((t=>{u.push(Math.exp(t))}));let r=0;return u.forEach((t=>{r+=t})),i=[],u.forEach((t=>{i.push(t/r)})),i};let c;const d=t=>{let e=c.predictState(t);return o(e)},m=t=>{let e=d(t),n=Math.random(),u=0;for(let t=0;t<e.length;t++)if(u+=e[t],n<u)return t;return e.length-1},g=t=>Math.floor(Math.random()*Math.floor(t));return t.$$set=t=>{"numX"in t&&n(0,u=t.numX),"numY"in t&&n(1,r=t.numY),"numA"in t&&n(2,a=t.numA),"useNet"in t&&n(3,s=t.useNet),"learningRate"in t&&n(4,l=t.learningRate)},[u,r,a,s,l,c,o,t=>{let e=Array(t.length).fill(0);for(let n=0;n<t.length;n++)for(let u=0;u<t.length;u++)e[u]+=n==u?i[n]*(1-i[u])*t[n]:i[n]*(0-i[u])*t[n];return e},d,m,g,(t,e)=>Math.random()<e?g(a):m(t),()=>{c.init()},(t,e)=>c.updateModel(t,e),()=>c.takeModel(),function(t){M[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(e){F(t,e)},function(t){M[t?"unshift":"push"]((()=>{c=t,n(5,c)}))},function(e){F(t,e)}]}class me extends et{constructor(t){super(),tt(this,t,de,ce,l,{numX:0,numY:1,numA:2,useNet:3,learningRate:4,softmaxForward:6,softmaxBackward:7,getActionProbs:8,getPolicy:9,getRandomInt:10,getEpsilonGreedyAction:11,init:12,updateModel:13,takeModel:14})}get softmaxForward(){return this.$$.ctx[6]}get softmaxBackward(){return this.$$.ctx[7]}get getActionProbs(){return this.$$.ctx[8]}get getPolicy(){return this.$$.ctx[9]}get getRandomInt(){return this.$$.ctx[10]}get getEpsilonGreedyAction(){return this.$$.ctx[11]}get init(){return this.$$.ctx[12]}get updateModel(){return this.$$.ctx[13]}get takeModel(){return this.$$.ctx[14]}}function ge(t){let e,n,u={numX:t[0],numY:t[1],numA:t[2],useNet:t[3],learningRate:fe};return e=new me({props:u}),t[11](e),e.$on("modelChanged",t[12]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,[n]){const u={};1&n&&(u.numX=t[0]),2&n&&(u.numY=t[1]),4&n&&(u.numA=t[2]),8&n&&(u.useNet=t[3]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[11](null),W(e,n)}}}let fe=.001;function pe(t,e,n){let u,r,{numX:a}=e,{numY:s}=e,{numA:l}=e,{useNet:i=!1}=e,o=0,c=0,d=!1,{envStepFunc:m=null}=e,{episodeDoneFunc:g=null}=e;const f=t=>{let e=[];for(let n=0;n<t.length;n++)e.push(t[n]*t[n]);let n=Math.max([...e]);if(n>1){let e=[...t];for(let t=0;t<e.length;t++)e[t]/=n;return e}return t},p=(t,e)=>{let n=r.softmaxForward(t),u=Array(n.length).fill(0);u[e.a]=-e.g/(n[e.a]+1e-6),u=f(u);let a=r.softmaxBackward(u);a=f(a);let s=[];for(let e=0;e<t.length;e++)s.push(t[e]-a[e]);return(t=>{let e=Math.max(...t),n=[];return t.forEach((t=>{n.push(t-e)})),n})(s)};let h;const $=t=>{let e,n,a;d?((async()=>{for(let t=h.length-1;t>=0;t--){h[t].done?h[t].g=h[t].r:h[t].g=h[t].r+.9*h[t+1].g;let e=h[t].state,n=h[t].a,u=h[t].g;r.updateModel({state:e,a:n,g:u},p)}await r.takeModel()})(),g(o,c)):u=setTimeout((()=>{n=r.getEpsilonGreedyAction(t,.1),[e,a,d]=m(t,n),h.push({state:t,a:n,r:a,done:d}),t=[...e],c+=a,o++,$(t)}),0)};return t.$$set=t=>{"numX"in t&&n(0,a=t.numX),"numY"in t&&n(1,s=t.numY),"numA"in t&&n(2,l=t.numA),"useNet"in t&&n(3,i=t.useNet),"envStepFunc"in t&&n(5,m=t.envStepFunc),"episodeDoneFunc"in t&&n(6,g=t.episodeDoneFunc)},[a,s,l,i,r,m,g,t=>{c=0,o=0,d=!1,h=[],$(t)},()=>{r.init()},()=>{u&&clearTimeout(u)},t=>r.getActionProbs(t),function(t){M[t?"unshift":"push"]((()=>{r=t,n(4,r)}))},function(e){F(t,e)}]}class he extends et{constructor(t){super(),tt(this,t,pe,ge,l,{numX:0,numY:1,numA:2,useNet:3,envStepFunc:5,episodeDoneFunc:6,runEpisode:7,init:8,halt:9,getValues:10})}get runEpisode(){return this.$$.ctx[7]}get init(){return this.$$.ctx[8]}get halt(){return this.$$.ctx[9]}get getValues(){return this.$$.ctx[10]}}function $e(t,e,n){const u=t.slice();return u[42]=e[n],u}function xe(t){let n,u,r,a=t[42].name+"";return{c(){n=f("option"),u=h(a),n.__value=r=t[42].name,n.value=n.__value},m(t,e){d(t,n,e),c(n,u)},p:e,d(t){t&&m(n)}}}function ye(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useNet:t[14],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new he({props:u}),t[40](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useNet=t[14]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[40](null),W(e,n)}}}function Ae(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useQNet:t[14],duelingQNet:t[15],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new ee({props:u}),t[39](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useQNet=t[14]),32768&n[0]&&(u.duelingQNet=t[15]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[39](null),W(e,n)}}}function Ne(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useQNet:t[14],duelingQNet:t[15],planningSteps:t[4],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new Ut({props:u}),t[38](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useQNet=t[14]),32768&n[0]&&(u.duelingQNet=t[15]),16&n[0]&&(u.planningSteps=t[4]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[38](null),W(e,n)}}}function ve(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useQNet:t[14],duelingQNet:t[15],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new qt({props:u}),t[37](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useQNet=t[14]),32768&n[0]&&(u.duelingQNet=t[15]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[37](null),W(e,n)}}}function Qe(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useQNet:t[14],duelingQNet:t[15],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new Lt({props:u}),t[36](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useQNet=t[14]),32768&n[0]&&(u.duelingQNet=t[15]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[36](null),W(e,n)}}}function we(t){let e,n,u={numX:t[5],numY:t[6],numA:4,useQNet:t[14],duelingQNet:t[15],envStepFunc:t[18],episodeDoneFunc:t[20]};return e=new _t({props:u}),t[35](e),e.$on("modelChanged",t[19]),{c(){K(e.$$.fragment)},m(t,u){U(e,t,u),n=!0},p(t,n){const u={};32&n[0]&&(u.numX=t[5]),64&n[0]&&(u.numY=t[6]),16384&n[0]&&(u.useQNet=t[14]),32768&n[0]&&(u.duelingQNet=t[15]),e.$set(u)},i(t){n||(q(e.$$.fragment,t),n=!0)},o(t){H(e.$$.fragment,t),n=!1},d(n){t[35](null),W(e,n)}}}function Se(t){let e,n,u,r,s,l,i,o,p,S,Y,X,b,k,F,E,R,D,V,B,T,_,I,P,L,z,Z,tt,et,nt,ut,rt,at,st,lt,it,ot;function ct(e){t[29].call(null,e)}function dt(e){t[30].call(null,e)}let mt={yTitle:"reward per episode",ySecondTitle:"steps per episode",hasSecondY:!1};void 0!==t[11]&&(mt.data=t[11]),void 0!==t[10]&&(mt.dataSecond=t[10]),u=new wt({props:mt}),t[28](u),M.push((()=>J(u,"data",ct))),M.push((()=>J(u,"dataSecond",dt)));let gt=t[21],ft=[];for(let e=0;e<gt.length;e+=1)ft[e]=xe($e(t,gt,e));let pt={numX:t[5],numY:t[6],blocked:t[0],terminal:t[1],rewards:t[2],defaultReward:t[3]};nt=new Nt({props:pt}),t[34](nt);const ht=[we,Qe,ve,Ne,Ae,ye],$t=[];function xt(t,e){return"Q-Learning"==t[12]?0:"SARSA"==t[12]?1:"Expected SARSA"==t[12]?2:"Dyna-Q"==t[12]?3:"Monte Carlo"==t[12]?4:"Policy Gradient"==t[12]?5:-1}return~(rt=xt(t))&&(at=$t[rt]=ht[rt](t)),{c(){e=f("div"),n=f("div"),K(u.$$.fragment),l=$(),i=f("div"),o=h("EPISODE : "),p=h(t[13]),S=$(),Y=f("div"),X=f("select");for(let t=0;t<ft.length;t+=1)ft[t].c();b=$(),k=f("div"),F=f("input"),E=h("\n      DQN"),R=$(),D=f("div"),V=f("input"),B=h("\n      Dueling"),T=$(),_=f("button"),_.textContent="init",I=$(),P=f("button"),P.textContent="halt",L=$(),z=f("button"),Z=h("run"),tt=$(),et=f("div"),K(nt.$$.fragment),ut=$(),at&&at.c(),st=x(),A(n,"class","narrow-box svelte-akg5ju"),A(i,"class","box svelte-akg5ju"),A(X,"class","svelte-akg5ju"),void 0===t[12]&&C((()=>t[31].call(X))),A(F,"type","checkbox"),F.disabled=Ye,A(F,"class","svelte-akg5ju"),A(k,"class","flexrow svelte-akg5ju"),w(k,"disabled",Ye),A(V,"type","checkbox"),V.disabled=t[17],A(V,"class","svelte-akg5ju"),A(D,"class","flexrow svelte-akg5ju"),w(D,"disabled",t[17]),A(_,"class","svelte-akg5ju"),A(P,"class","svelte-akg5ju"),z.disabled=t[16],A(z,"class","svelte-akg5ju"),A(Y,"class","box svelte-akg5ju"),A(et,"class","narrow-box svelte-akg5ju"),A(e,"class","container svelte-akg5ju"),v(e,"width",16+100*t[5]+4*(t[5]-1)+"px")},m(r,a){d(r,e,a),c(e,n),U(u,n,null),c(e,l),c(e,i),c(i,o),c(i,p),c(e,S),c(e,Y),c(Y,X);for(let t=0;t<ft.length;t+=1)ft[t].m(X,null);Q(X,t[12]),c(Y,b),c(Y,k),c(k,F),F.checked=t[14],c(k,E),c(Y,R),c(Y,D),c(D,V),V.checked=t[15],c(D,B),c(Y,T),c(Y,_),c(Y,I),c(Y,P),c(Y,L),c(Y,z),c(z,Z),c(e,tt),c(e,et),U(nt,et,null),d(r,ut,a),~rt&&$t[rt].m(r,a),d(r,st,a),lt=!0,it||(ot=[y(X,"change",t[31]),y(X,"change",t[24]),y(F,"change",t[32]),y(F,"change",t[25]),y(V,"change",t[33]),y(V,"change",t[25]),y(_,"click",t[25]),y(P,"click",t[23]),y(z,"click",t[22])],it=!0)},p(t,n){const a={};if(!r&&2048&n[0]&&(r=!0,a.data=t[11],j((()=>r=!1))),!s&&1024&n[0]&&(s=!0,a.dataSecond=t[10],j((()=>s=!1))),u.$set(a),(!lt||8192&n[0])&&N(p,t[13]),2097152&n[0]){let e;for(gt=t[21],e=0;e<gt.length;e+=1){const u=$e(t,gt,e);ft[e]?ft[e].p(u,n):(ft[e]=xe(u),ft[e].c(),ft[e].m(X,null))}for(;e<ft.length;e+=1)ft[e].d(1);ft.length=gt.length}2101248&n[0]&&Q(X,t[12]),16384&n[0]&&(F.checked=t[14]),0&n&&w(k,"disabled",Ye),(!lt||131072&n[0])&&(V.disabled=t[17]),32768&n[0]&&(V.checked=t[15]),131072&n[0]&&w(D,"disabled",t[17]),(!lt||65536&n[0])&&(z.disabled=t[16]);const l={};32&n[0]&&(l.numX=t[5]),64&n[0]&&(l.numY=t[6]),1&n[0]&&(l.blocked=t[0]),2&n[0]&&(l.terminal=t[1]),4&n[0]&&(l.rewards=t[2]),8&n[0]&&(l.defaultReward=t[3]),nt.$set(l),(!lt||32&n[0])&&v(e,"width",16+100*t[5]+4*(t[5]-1)+"px");let i=rt;rt=xt(t),rt===i?~rt&&$t[rt].p(t,n):(at&&(G(),H($t[i],1,1,(()=>{$t[i]=null})),O()),~rt?(at=$t[rt],at?at.p(t,n):(at=$t[rt]=ht[rt](t),at.c()),q(at,1),at.m(st.parentNode,st)):at=null)},i(t){lt||(q(u.$$.fragment,t),q(nt.$$.fragment,t),q(at),lt=!0)},o(t){H(u.$$.fragment,t),H(nt.$$.fragment,t),H(at),lt=!1},d(n){n&&m(e),t[28](null),W(u),g(ft,n),t[34](null),W(nt),n&&m(ut),~rt&&$t[rt].d(n),n&&m(st),it=!1,a(ot)}}}let Ye=!1;function Xe(t,e,n){let u,r,a,s,l,{blocked:i=[]}=e,{terminal:o=Array([0,0])}=e,{rewards:c=Array([0,0,1])}=e,{defaultReward:d=0}=e,{startState:m}=e,{numEpisodes:g=1e3}=e,{planningSteps:f=10}=e,{numX:p=5}=e,{numY:h=5}=e,$=[],x=[],y=0,A=!1,N=!1,v=!1,Q=!0;const w=[{name:"Q-Learning"},{name:"SARSA"},{name:"Expected SARSA"},{name:"Dyna-Q"},{name:"Monte Carlo"},{name:"Policy Gradient"}],S=()=>{n(16,v=!0),l=setTimeout((()=>{if(y<g){n(13,y++,y);let t=r.getRandomStartState();m&&(t=m),u.runEpisode(t)}else n(16,v=!1)}),0)},Y=()=>{n(17,Q=!A),Q&&n(15,N=!1),n(13,y=0),n(10,$=[]),n(11,x=[]),a.clearPlot()};return t.$$set=t=>{"blocked"in t&&n(0,i=t.blocked),"terminal"in t&&n(1,o=t.terminal),"rewards"in t&&n(2,c=t.rewards),"defaultReward"in t&&n(3,d=t.defaultReward),"startState"in t&&n(26,m=t.startState),"numEpisodes"in t&&n(27,g=t.numEpisodes),"planningSteps"in t&&n(4,f=t.planningSteps),"numX"in t&&n(5,p=t.numX),"numY"in t&&n(6,h=t.numY)},[i,o,c,d,f,p,h,u,r,a,$,x,s,y,A,N,v,Q,(t,e)=>r.step(t,e),()=>{for(let t=0;t<h;t++)for(let e=0;e<p;e++){let n=[e,t],a=u.getValues(n);r.setValues(n,a)}},(t,e)=>{$.push(t),x.push(e),a.updatePlot(),S()},w,S,()=>{l&&clearTimeout(l),u.halt(),n(16,v=!1)},Y,()=>{Y(),u.init()},m,g,function(t){M[t?"unshift":"push"]((()=>{a=t,n(9,a)}))},function(t){x=t,n(11,x)},function(t){$=t,n(10,$)},function(){s=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(12,s),n(21,w)},function(){A=this.checked,n(14,A)},function(){N=this.checked,n(15,N)},function(t){M[t?"unshift":"push"]((()=>{r=t,n(8,r)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))},function(t){M[t?"unshift":"push"]((()=>{u=t,n(7,u)}))}]}class be extends et{constructor(t){super(),tt(this,t,Xe,Se,l,{blocked:0,terminal:1,rewards:2,defaultReward:3,startState:26,numEpisodes:27,planningSteps:4,numX:5,numY:6},[-1,-1])}}const ke=document.getElementById("maze-shell-0"),Fe=document.getElementById("maze-shell-1"),Ee=document.getElementById("maze-shell-2"),Me=document.getElementById("maze-shell-3"),Re=document.getElementById("maze-shell-4"),De=ke?new be({target:ke,props:{numX:12,numY:3,planningSteps:10,blocked:Array(),terminal:Array([1,2],[2,2],[3,2],[4,2],[5,2],[6,2],[7,2],[8,2],[9,2],[10,2],[11,2]),rewards:Array([1,2,-10],[2,2,-10],[3,2,-10],[4,2,-10],[5,2,-10],[6,2,-10],[7,2,-10],[8,2,-10],[9,2,-10],[10,2,-10],[11,2,0]),defaultReward:-.1,startState:[0,2]}}):null,Ve=Fe?new be({target:Fe,props:{numX:7,numY:3,planningSteps:10,blocked:Array(),terminal:Array([1,2],[2,2],[3,2],[4,2],[5,2],[6,2]),rewards:Array([1,2,-10],[2,2,-10],[3,2,-10],[4,2,-10],[5,2,-10],[6,2,0]),defaultReward:-.1,startState:[0,2]}}):null,Be=Ee?new be({target:Ee,props:{numX:5,numY:5,blocked:Array(),terminal:Array([1,1]),rewards:Array([1,1,1]),defaultReward:-.1}}):null,Ce=Me?new be({target:Me,props:{numX:5,numY:5,blocked:Array(),terminal:Array([1,1]),rewards:Array([1,1,1],[3,3,1]),defaultReward:-.1}}):null,je=Re?new be({target:Re,props:{numX:6,numY:4,blocked:Array([0,0],[3,2],[4,1],[3,3]),terminal:Array([1,1]),rewards:Array([1,1,10]),defaultReward:-.1}}):null;return t.comp0=De,t.comp1=Ve,t.comp2=Be,t.comp3=Ce,t.comp4=je,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=bundle.js.map
